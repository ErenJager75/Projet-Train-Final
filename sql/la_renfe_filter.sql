CREATE TABLE TRAIN
(
    ID                    UUID,
    DEPARTURE             VARCHAR(100),
    ARRIVAL               VARCHAR(100),
    IS_FLEXIBLE           BOOLEAN,
    DEPARTURE_DATE        TIMESTAMP,
    NUMBER_SEATS_STANDARD INTEGER,
    NUMBER_SEATS_BUSINESS INTEGER,
    NUMBER_SEATS_FIRST    INTEGER,
    CONSTRAINT PK_TRAIN PRIMARY KEY (ID)
);

CREATE TABLE CLASS
(
    ID   INTEGER,
    NAME VARCHAR(50),
    CONSTRAINT PK_CLASS PRIMARY KEY (ID)
);

CREATE TABLE RESERVATION_TRAIN
(
    ID         UUID,
    LAST_NAME  VARCHAR(100),
    FIRST_NAME VARCHAR(100),
    CLASS_ID   INTEGER,
    TRAIN_ID   UUID,
    CONSTRAINT PK_RESERVATION_TRAIN PRIMARY KEY (ID),
    CONSTRAINT FK_TRAIN FOREIGN KEY (TRAIN_ID) REFERENCES TRAIN,
    CONSTRAINT FK_CLASS FOREIGN KEY (CLASS_ID) REFERENCES CLASS
);

INSERT INTO CLASS
VALUES (0, 'STANDARD'),
       (1, 'FIRST'),
       (2, 'BUSINESS');

INSERT INTO TRAIN
(ID, DEPARTURE, ARRIVAL, IS_FLEXIBLE, DEPARTURE_DATE, NUMBER_SEATS_STANDARD, NUMBER_SEATS_BUSINESS, NUMBER_SEATS_FIRST)
VALUES ('bc14f63e-8602-11ed-a1eb-0242ac120022', 'MARSEILLE', 'NANTES', FALSE, '2023-01-27T16:23:00+00:00', 60, 42, 35),
       ('bc14f63e-8602-11ed-a1eb-0242ac120023', 'PARIS', 'MARSEILLE', FALSE, '2023-01-27T20:10:00+00:00', 0, 20, 100),
       ('bc14f63e-8602-11ed-a1eb-0242ac120024', 'PARIS', 'NANTES', FALSE, '2023-01-26T19:30:00+00:00', 20, 62, 45),
       ('bc14f63e-8602-11ed-a1eb-0242ac120025', 'NANTES', 'LILLE', FALSE, '2023-01-28T09:50:00+00:00', 50, 10, 35),
       ('bc14f63e-8602-11ed-a1eb-0242ac120026', 'MARSEILLE', 'LILLE', FALSE, '2023-01-30T14:33:00+00:00', 20, 45, 40),
       ('bc14f63e-8602-11ed-a1eb-0242ac120028', 'BORDEAUX', 'MARSEILLE', FALSE, '2023-02-01T14:10:00+00:00', 80, 24, 3),
       ('bc14f63e-8602-11ed-a1eb-0242ac120029', 'MARSEILLE', 'PARIS', FALSE, '2023-02-03T19:30:00+00:00', 100, 40, 0),
       ('bc14f63e-8602-11ed-a1eb-0242ac120037', 'PARIS', 'BORDEAUX', FALSE, '2023-01-28T10:50:00+00:00', 50, 10, 35),
       ('bc14f63e-8602-11ed-a1eb-0242ac120032', 'LYON', 'BORDEAUX', FALSE, '2023-01-27T16:23:00+00:00', 60, 42, 35),
       ('bc14f63e-8602-11ed-a1eb-0242ac120033', 'LYON', 'BREST', FALSE, '2023-01-27T13:10:00+00:00', 120, 20, 0),
       ('bc14f63e-8602-11ed-a1eb-0242ac120034', 'LYON', 'BORDEAUX', FALSE, '2023-01-26T19:30:00+00:00', 20, 62, 45),
       ('bc14f63e-8602-11ed-a1eb-0242ac120035', 'BORDEAUX', 'LILLE', FALSE, '2023-01-28T09:50:00+00:00', 50, 10, 35),
       ('bc14f63e-8602-11ed-a1eb-0242ac120036', 'MARSEILLE', 'LILLE', FALSE, '2023-01-30T14:33:00+00:00', 20, 45, 40),
       ('bc14f63e-8602-11ed-a1eb-0242ac120038', 'BORDEAUX', 'MARSEILLE', FALSE, '2023-02-01T14:10:00+00:00', 80, 24, 3),
       ('bc14f63e-8602-11ed-a1eb-0242ac120039', 'BREST', 'BORDEAUX', FALSE, '2023-02-03T19:30:00+00:00', 100, 40, 0),
       ('bc14f63e-8602-11ed-a1eb-0242ac120137', 'LYON', 'BORDEAUX', FALSE, '2023-01-28T10:50:00+00:00', 50, 10, 35);
